# Claude API Integration Setup

## Environment Variables Required

To enable real AI content generation with Claude API, you need to set up an environment variable:

### 1. Get Claude API Key
- Visit https://console.anthropic.com/
- Create an account or sign in
- Navigate to API Keys section
- Generate a new API key

### 2. Add Environment Variable
Create a `.env.local` file in your project root:

```env
VITE_CLAUDE_API_KEY=your_api_key_here
```

**Important**: Never commit your API key to version control. The `.env.local` file should be added to `.gitignore`.

### 3. API Usage Information
- **Model**: claude-3-haiku-20240307 (fast and cost-effective)
- **Max Tokens**: 4000 per request
- **API Version**: 2023-06-01
- **Endpoint**: https://api.anthropic.com/v1/messages

### 4. Fallback Behavior
If the Claude API is unavailable or the API key is missing:
- The system will automatically fall back to simulated content generation
- Users will see a notification indicating simulated content is being used
- All functionality remains available without interruption

### 5. Content Templates
The system uses different prompt templates for each agent type:
- **SEO Agent**: Optimized for SEO articles with proper structure
- **Leads Agent**: Business lead analysis and reports
- **Content Agent**: Content enhancement and improvement
- **Analytics Agent**: Data analysis and insights

### 6. Error Handling
- Network errors: Graceful fallback to simulation
- Invalid API key: Clear error message with fallback
- Rate limiting: Automatic retry with exponential backoff
- Content parsing: Robust HTML sanitization

## Testing the Integration

1. Set up the environment variable
2. Start the development server: `npm run dev`
3. Navigate to any agent (SEO, Leads, etc.)
4. Fill out the form and generate content
5. Check browser console for API call logs
6. Verify content is generated by Claude API vs simulation

## Cost Considerations

Claude API pricing (as of 2024):
- Input tokens: ~$0.25 per 1M tokens
- Output tokens: ~$1.25 per 1M tokens
- Average article generation: ~$0.01-0.05 per request

Monitor usage through Anthropic console to track costs.
